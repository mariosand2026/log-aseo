<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>LOG ‚Äì Artificial Intelligence</title>

<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
  background: #ffffff;
  color: #000;
  margin: 0;
  padding: 20px;
}

h1 {
  text-align: center;
  font-size: 38px;
  color: #1f6feb;
  margin-bottom: 5px;
}

.subtitle {
  text-align: center;
  font-size: 18px;
  color: #444;
  margin-bottom: 30px;
}

label {
  display: block;
  margin-top: 22px;
  font-size: 22px;
  font-weight: bold;
  color: #1f6feb;
}

textarea, select, button {
  width: 100%;
  font-size: 22px;
  padding: 12px;
  margin-top: 8px;
  border-radius: 10px;
  border: 1px solid #ccc;
}

button {
  background: #000;
  color: #fff;
  font-weight: bold;
  margin-top: 25px;
}

.task-config {
  border: 1px solid #ddd;
  border-radius: 12px;
  padding: 12px;
  margin-top: 10px;
}

.calendar {
  margin-top: 35px;
}

.weekdays {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  text-align: center;
  font-size: 18px;
  font-weight: bold;
}

.days {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 10px;
  margin-top: 10px;
}

.day {
  border: 1px solid #ddd;
  border-radius: 14px;
  padding: 10px;
  min-height: 160px;
}

.day strong {
  font-size: 22px;
  color: #1f6feb;
}

.task {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 6px;
  font-size: 19px;
}

.task.done {
  opacity: 0.4;
  text-decoration: line-through;
}

.task input {
  transform: scale(1.3);
}

.empty {
  background: transparent;
  border: none;
}

.footer {
  text-align: center;
  margin-top: 40px;
  font-size: 14px;
  color: #777;
}
</style>
</head>

<body>

<h1>LOG</h1>
<div class="subtitle">
Artificial Intelligence<br>
by Mario Andr√©s Narv√°ez Delgado
</div>

<label>Integrantes</label>
<textarea id="members" rows="4">Mam√°
Pap√°
Juan
Ana</textarea>

<label>Tareas</label>
<textarea id="tasks" rows="4">üçΩÔ∏è Lavar platos
üßπ Barrer
üóëÔ∏è Sacar basura
üßº Limpieza general</textarea>

<label>Mes</label>
<select id="month"></select>

<label>A√±o</label>
<select id="year"></select>

<button onclick="generateCalendar()">Generar calendario</button>

<div class="calendar">
  <div class="weekdays">
    <div>L</div><div>M</div><div>M</div><div>J</div>
    <div>V</div><div>S</div><div>D</div>
  </div>
  <div class="days" id="calendarDays"></div>
</div>

<div class="footer">
LOG ¬∑ Artificial Intelligence
</div>

<script>
const monthSelect=document.getElementById("month");
const yearSelect=document.getElementById("year");

["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]
.forEach((m,i)=>{
  const o=document.createElement("option");
  o.value=i; o.textContent=m;
  monthSelect.appendChild(o);
});

const yNow=new Date().getFullYear();
for(let y=yNow-1;y<=yNow+5;y++){
  const o=document.createElement("option");
  o.value=y; o.textContent=y;
  yearSelect.appendChild(o);
}

monthSelect.value=new Date().getMonth();
yearSelect.value=yNow;

const historyKey="logHistory";

function saveHistory(entry){
  const h=JSON.parse(localStorage.getItem(historyKey))||[];
  h.push(entry);
  localStorage.setItem(historyKey,JSON.stringify(h));
}

function generateCalendar(){
  const members=document.getElementById("members").value.split("\n").filter(x=>x);
  const tasks=document.getElementById("tasks").value.split("\n").filter(x=>x);

  const month=+monthSelect.value;
  const year=+yearSelect.value;
  const daysInMonth=new Date(year,month+1,0).getDate();
  const firstDay=new Date(year,month,1).getDay();
  const offset=firstDay===0?6:firstDay-1;

  const cal=document.getElementById("calendarDays");
  cal.innerHTML="";
  let personIndex=0;

  for(let i=0;i<offset;i++){
    cal.appendChild(document.createElement("div")).className="day empty";
  }

  for(let d=1;d<=daysInMonth;d++){
    const cell=document.createElement("div");
    cell.className="day";
    cell.innerHTML=`<strong>${d}</strong>`;

    tasks.forEach((task,i)=>{
      const person=members[(personIndex+i)%members.length];
      const div=document.createElement("div");
      div.className="task";

      const chk=document.createElement("input");
      chk.type="checkbox";
      chk.onchange=()=>{
        div.classList.toggle("done");
        saveHistory({
          day:d,
          task,
          person,
          date:new Date().toISOString()
        });
      };

      div.appendChild(chk);
      div.append(`${task} ‚Äì ${person}`);
      cell.appendChild(div);
    });

    personIndex++;
    cal.appendChild(cell);
  }
}
</script>

</body>
</html>
